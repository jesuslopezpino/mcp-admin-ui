<app-crud-table
  title="ðŸ“… Schedules"
  description="Manage and monitor scheduled tasks"
  [data]="schedules"
  [columns]="columns"
  [actions]="actions"
  [loading]="loading"
  [showCreateButton]="true"
  createButtonLabel="New Schedule"
  createButtonIcon="pi pi-plus"
  [showFilters]="true"
  [filterFields]="['name', 'toolName', 'cronExpr']"
  [statusOptions]="statusOptions"
  [selectedStatus]="selectedStatus"
  [globalFilter]="globalFilter"
  [selectedItems]="selectedSchedules"
  [showSelection]="true"
  [showPagination]="true"
  [rows]="10"
  [rowsPerPageOptions]="[10, 25, 50]"
  (onCreate)="openNewModal()"
  (onEdit)="openEditModal($event)"
  (onDelete)="deleteTask($event)"
  (onSelectionChange)="selectedSchedules = $event"
  (onGlobalFilterChange)="globalFilter = $event"
  (onStatusFilterChange)="selectedStatus = $event"
  (onClearFilters)="clearFilters()">
</app-crud-table>

<!-- Modal -->
@if (showModal) {
  <app-schedule-modal
    [task]="editingTask"
    [tools]="tools"
    [assets]="assets"
    (saved)="onTaskSaved($event)"
    (closed)="closeModal()">
  </app-schedule-modal>
}

<!-- Global Components -->
<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>
